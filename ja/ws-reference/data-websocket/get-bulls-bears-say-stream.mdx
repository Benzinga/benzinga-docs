---
title: "強気／弱気ストリーム"
description: "強気コメント／弱気コメントのストリームを購読します。"
---

<div id="websocket-websocketv1">
  ## ウェブソケット `websocket/v1`:
</div>

```txt
wss://api.benzinga.com/api/v1/analyst/insights/stream
```


<div id="parameters">
  #### パラメーター
</div>

| Name       | Location |  Type   | Required | Description                                                             |
| :--------- | :-----:  | :-----: | -------: | ----------------------------------------------------------------------: |
| `token`    | query    | string  |      Yes | Benzinga ウェブソケットトークン（bz.production***）。                   |
| `tickers`  | query    | string  | Optional | 購読したいティッカーのリスト。カンマ区切り。                            |
| `isins`    | query    | string  | Optional | フィルター対象とする ISIN（国際証券識別番号）のリスト。カンマ区切り。   |

<div id="stream-response">
  ### ストリームレスポンス:
</div>

ストリームにサブスクライブすると、アナリストインサイトの更新情報を次の形式で受信します。

```json
{
  "id": "websocket123",
  "api_version": "websocket/v1",
  "kind": "bull_bear_case",
  "data": {
    "action": "created",
    "id": "case123",
    "content": {
      "bear_case": "Market downturn expected.",
      "bull_case": "Positive earnings forecast.",
      "id": "case123",
      "ticker": "AAPL",
      "updated": 1696153200
    },
    "timestamp": "2024-10-01T10:00:00Z"
  }
}
```


<div id="responses">
  #### レスポンス
</div>

- **200 OK**
- **概要**: 成功
- **Content Type**: `application/json`
- **スキーマ**: [BullBearWSResp](#bullbearwsresp)

<div id="bullbearwsresp">
  ### BullBearWSResp
</div>

| Parameter      | Type   | Description                                           |
|----------------|--------|-------------------------------------------------------|
| id             | string | ウェブソケットレスポンスを一意に識別するUUID           |
| api_version    | string | ウェブソケットAPIのバージョン                         |
| kind           | string | ウェブソケット接続のストリーム種別                    |
| data           | object | bull/bearケースのアクションと詳細を含むオブジェクト   |

<div id="data-object-inside-bullbearwsresp">
  ### データオブジェクト（BullBearWSResp 内）
</div>

| Parameter | Type   | Description                                                        |
|-----------|--------|--------------------------------------------------------------------|
| action    | string | ウェブソケットにおけるデータのアクション（例：created、updated、deleted） |
| id        | string | Bull/Bear ケースのデータ ID                                       |
| content   | object | Bull/Bear ケースの詳細（下記参照）                                |
| timestamp | string | データのタイムスタンプ                                            |

<div id="bullbearcase-schema-inside-data-content">
  ### BullBearCase スキーマ（data content 内）
</div>

| Parameter | Type     | Description                                               |
|-----------|----------|-----------------------------------------------------------|
| bear_case | string   | 弱気シナリオの説明                                         |
| bull_case | string   | 強気シナリオの説明                                         |
| id        | string   | 強気/弱気シナリオの一意の識別子（UUID 形式）              |
| ticker    | string   | 強気/弱気シナリオに関連する株式のtickerシンボル           |
| updated   | integer  | シナリオが最後に更新された日時のタイムスタンプ（int64 形式） |

<div id="success-response">
  ## 成功レスポンス
</div>

- 成功 `101` - ウェブソケット接続が正常に確立されました。

<div style={{
    border: '1px solid #ddd',
    borderRadius: '8px',
    padding: '16px',
    fontSize: '14px',
    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',
    backgroundColor: '#f9f9f9',
    maxWidth: '700px',
}}>
    <div style={{
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
    }}>
        <div style={{ color: '#000000'}}>
            ✅ wss://api.benzinga.com/api/v1/bulls_bears_say/stream?token=bz.p*** に接続しました
        </div>
    </div>

    <div style={{ color: 'grey', fontWeight: 'bold', marginBottom: '-4px' }}>
        ハンドシェイク詳細
    </div>

    <div style={{ marginBottom: '4px' }}>
        <span><strong>リクエスト URL:</strong> </span>
        <p style={{ color: 'blue' }}>
            "https://api.benzinga.com/api/v1/bulls_bears_say/stream?token=bz"
        </p>
    </div>
    <div style={{ marginBottom: '4px' }}>
        <span> <strong>リクエストメソッド:</strong> </span><span style={{ color: 'blue' }}>"GET"</span>
    </div>
    <div style={{ marginBottom: '4px' }}>
        <span> <strong>ステータスコード:</strong> </span><span style={{ color: 'blue' }}>"101 Switching Protocols"</span>
    </div>
</div>

<div id="error-response">
  ## エラーレスポンス
</div>

- Unauthorized `401` - 指定したトークンが無効です。トークンを確認してください。

<div style={{
    border: '1px solid #ddd',
    borderRadius: '8px',
    padding: '16px',
    fontSize: '14px',
    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',
    backgroundColor: '#f9f9f9',
    maxWidth: '500px',
}}>
    <div style={{
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
    }}>
        <div style={{ color: '#000000'}}>
            ❗ wss://api.benzinga.com/api/v1/bulls_bears_say/stream?token=bz.p*** に接続できませんでした
        </div>
    </div>

    <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>
        Error: 予期しないサーバーレスポンス: 401
    </div>

    <div style={{ color: 'grey', fontWeight: 'bold', marginBottom: '-4px' }}>
        ハンドシェイクの詳細
    </div>

    <div style={{ marginBottom: '4px' }}>
        <span> <strong>リクエストメソッド:</strong> </span><span style={{ color: 'blue' }}>"GET"</span>
    </div>
    <div style={{ marginBottom: '4px' }}>
        <span> <strong>ステータスコード:</strong> </span><span style={{ color: 'blue' }}>"401 Unauthorized"</span>
    </div>
</div>

- Bad Gateway `502` - 無効なルート、またはサーバーエラーの可能性があります。

<div style={{
    border: '1px solid #ddd',
    borderRadius: '8px',
    padding: '16px',
    fontSize: '14px',
    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',
    backgroundColor: '#f9f9f9',
    maxWidth: '500px',
}}>
    <div style={{
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
    }}>
        <div style={{ color: '#000000'}}>
            ❗ wss://api.benzinga.com/api/v1/bulls_bears_say/stream?token=bz.p*** に接続できませんでした
        </div>
    </div>

    <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>
        Error: 予期しないサーバーレスポンス: 502
    </div>

    <div style={{ color: 'grey', fontWeight: 'bold', marginBottom: '-4px' }}>
        ハンドシェイクの詳細
    </div>

    <div style={{ marginBottom: '4px' }}>
        <span> <strong>リクエストメソッド:</strong> </span><span style={{ color: 'blue' }}>"GET"</span>
    </div>
    <div style={{ marginBottom: '4px' }}>
        <span> <strong>ステータスコード:</strong> </span><span style={{ color: 'blue' }}>"502 Bad Gateway"</span>
    </div>
</div>
---
title: "アナリスト・インサイト・ストリーム"
description: "証券に関するアナリストインサイト、レーティング、目標株価をリアルタイムで配信します。"
asyncapi: "/asyncapi/analyst-insights-stream.yml analystInsights"
---

<div id="overview">
  ## 概要
</div>

リアルタイムのアナリストインサイトを購読し、アナリストレーティング、目標株価、詳細な推奨情報の更新を発生と同時に受け取ることができます。

<div id="key-features">
  ### 主な機能
</div>

- **リアルタイム更新**: アナリストが新しいインサイトを公開したり、既存のレーティングを更新したときに、即座に通知を受け取れます
- **銘柄によるフィルタリング**: 特定のティッカーまたは ISIN を購読して、関連するデータのみを受信できます
- **包括的なデータ**: アナリストの所属機関の詳細、レーティング、目標株価、詳細なインサイトを含みます
- **アクションの追跡**: インサイトが作成・更新・削除されたタイミングを監視できます

<div id="use-cases">
  ### ユースケース
</div>

- ポートフォリオ内の銘柄に対するアナリストのセンチメント変化を追跡する
- レーティングの格上げ・格下げに対するリアルタイムアラートを作成する
- 複数アナリストにわたる目標株価の変更を監視する
- 複数のアナリスト会社からのコンセンサス見解を集約する

<div id="quick-start">
  ## クイックスタート
</div>

上部のインタラクティブなウェブソケットテスターを使って、ストリームにリアルタイム接続し、動作をテストしてください。

<div id="connection-url">
  ### 接続URL
</div>

```
wss://api.benzinga.com/api/v1/analyst/insights/stream?token=YOUR_TOKEN
```


<div id="query-parameters">
  ### クエリパラメータ
</div>

| Parameter | Required | Description |
|-----------|----------|-------------|
| `token` | Yes | あなたの Benzinga WebSocket API トークン (bz.production***) |
| `tickers` | No | ティッカーシンボルのカンマ区切りリスト (例: `AAPL,MSFT`) |
| `isins` | No | 絞り込み用の ISIN（国際証券識別番号）のカンマ区切りリスト |

<div id="message-example">
  ## メッセージ例
</div>

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "api_version": "websocket/v1",
  "kind": "stream_type",
  "data": {
    "action": "created",
    "id": "insight-id",
    "timestamp": "2024-10-08T10:00:00Z",
    "content": {
      "action": "Upgrades",
      "analyst_insights": "The analyst has upgraded the stock...",
      "firm": "Goldman Sachs",
      "pt": "150.00",
      "rating": "Buy",
      "security": {
        "symbol": "AAPL",
        "name": "Apple Inc.",
        "exchange": "NASDAQ"
      }
    }
  }
}
```


<div id="message-actions">
  ### メッセージアクション
</div>

| アクション | 説明 |
|--------|-------------|
| `created` / `Created` | 新しいアナリストインサイトが公開された |
| `updated` / `Updated` | 既存のアナリストインサイトが更新された |
| `deleted` / `Deleted` | アナリストインサイトが削除された |

<div id="interactive-commands">
  ## 対話型コマンド
</div>

| Command | 説明 |
|---------|-------------|
| `ping` | 接続を維持します（`pong` を返します） |
| `replay` | 直近最大100件のキャッシュ済みメッセージを再送信します |

<div id="best-practices">
  ## ベストプラクティス
</div>

- **重複排除**: `id` フィールドを使用して重複メッセージを処理しないようにする
- **ハートビート**: 接続を維持するために 30〜60 秒ごとに `ping` コマンドを送信する
- **エラーハンドリング**: 指数バックオフ付きの再接続ロジックを実装する
- **フィルタリング**: 帯域幅の使用量を抑えるために ticker/ISIN フィルタを使用する